---
title: '非交互式私人决策树评估'
date: 2023-03-09
permalink: /posts/2023/03/blog-post-4/
tags:
  - Decision Tree Evaluation
  - MPC
  - HE
---

非交互式私人决策树评估

决策树是一种强大的预测模型，在统计学、数据挖掘和机器学习中有许多应用。 在某些设置中，要分类的模型和数据可能包含属于不同方的敏感信息。 因此，在本文中，我们解决了在私有数据上私下评估决策树的问题。 这个场景包括一个持有私有决策树模型的服务器和一个有兴趣使用服务器私有模型对其私有属性向量进行分类的客户端。 计算的目标是获得分类，同时保留决策树和客户端输入的隐私。 计算完成后，分类结果只显示给客户端，其他的不显示给客户端和服务器。 解决此问题的现有隐私保护协议使用或组合不同的通用安全多方计算方法，从而导致客户端和服务器之间进行多次交互。 我们的目标是设计和实现一种新颖的客户端-服务器协议，将完整的树评估委托给服务器，同时保护隐私并减少开销。 这个想法是使用完全（某种程度上）同态加密并对在客户端公钥下加密的密文树进行评估。 然而，由于当前的同态加密方案具有较高的开销，我们将有效的数据表示与不同的算法优化相结合，以保持较低的计算开销和通信成本。 因此，我们能够提供第一个非交互式协议，允许客户端通过发送加密输入并仅接收结果的加密来将评估委托给服务器。方案只有一轮，可以在几秒钟内评估一棵深度为 10 的完整树。


机器学习 (ML) 分类器在许多领域都是有价值的工具，例如医疗保健、金融、垃圾邮件过滤、入侵检测、远程诊断等。 为了执行他们的任务，这些分类器通常需要访问个人敏感数据，例如医疗或财务记录。 因此，研究既能保护数据隐私又能从 ML 的优势中获益的技术至关重要。 一方面，ML 模型本身可能包含敏感数据。 例如，使用决策树对其客户进行信用评估的银行可能不想透露有关该模型的任何信息。 另一方面，该模型可能建立在敏感数据之上。 众所周知，对 ML 模型的白盒访问，有时甚至是黑盒访问允许所谓的模型反转攻击，这可能会损害训练数据的隐私。 因此，公开 ML 模型可能会侵犯训练数据的隐私。

在私有数据上的私有决策树评估 (PDTE) 问题。 这个场景包括一个拥有私有决策树模型的服务器和一个想要使用服务器私有模型对其私有属性向量进行分类的客户端。 计算的目标是获得分类，同时保留决策树和客户端输入的隐私。 计算完成后，分类结果只透露给客户端，除此之外，不会再透露给任何一方。 该问题可以使用任何通用的安全多方计算来解决。 存在结合不同技术并使用领域知识来开发有效协议的专门解决方案。

通用的安全两方计算，如乱码电路和秘密共享，可以实现PDTE。 这个想法是将决策树程序转换为可以在不泄露私人数据的情况下进行评估的安全表示。 存在诸如 ObliVM 或 CBMC-GC 之类的框架，它们能够自动将以高级编程语言编写的明文程序转换为适用于安全计算的不经意程序。 它们在决策树程序中的直接应用确实比手工制作的结构提高了性能。 然而，生成的不经意程序的大小仍然与树的大小成正比。 因此，通用解决方案通常效率低下，尤其是当树的大小很大时。

专用协议利用手头问题的领域知识，并仅在以下情况下使用通用技术 这是必要的，从而产生更有效的解决方案。 现有的 PDTE 协议有几轮需要客户端和服务器之间的多次交互。 此外，通信成本取决于决策树的大小，而客户端只需要一个单一的分类。 最后，它们还需要客户端的计算能力，这取决于树的大小。

为了设计和实现一种新颖的客户端-服务器协议，将完整的树评估委托给服务器，同时保护隐私并保持可接受的性能。 这个想法是使用完全或某种程度的同态加密 (FHE/SHE)，并根据在客户端公钥下加密的密文评估树。 因此，不会向评估服务器透露任何中间或最终计算结果。 然而，由于当前的同态加密方案具有较高的开销，我们将有效的数据表示与不同的算法优化相结合，以保持较低的计算开销和通信成本。 最后，计算开销可能仍然高于现有协议，但是计算任务可以并行化，从而减少计算时间。 因此，我们能够提供第一个非交互式协议，允许客户端通过发送加密输入并仅接收结果的加密来将评估委托给服务器。 最后，现有方法在半诚实模型中是安全的，并且可以使用可能使计算和通信成本加倍的技术进行单边模拟 1。 默认情况下，我们的方法是单方面可模拟的，因为客户端只是加密其输入并解密计算的最终结果（模拟客户端很简单），而服务器对使用语义安全加密加密的密文进行评估客户的公钥。

我们方法的具体动机是机器学习设置（在医疗保健、金融等领域的应用），其中服务器计算能力强，客户端计算能力弱，网络连接速度不是很快。 许多云提供商已经提出允许用户构建机器学习应用程序的平台。 医院可能希望使用这样的平台向其他医生甚至其患者提供医疗专家系统作为 ML 即服务应用程序。 软件提供商可以利用 ML 即服务来允许其客户检测软件错误的原因。 软件系统使用日志文件来收集有关系统行为的信息。 如果出现错误，这些日志文件可用于查找崩溃的原因。 这两个示例（医疗数据和日志文件）都包含值得保护的敏感信息。


